[{"/Users/adamzhu/Downloads/puzzl/src/index.js":"1","/Users/adamzhu/Downloads/puzzl/src/App.js":"2","/Users/adamzhu/Downloads/puzzl/src/reportWebVitals.js":"3","/Users/adamzhu/Downloads/puzzl/src/Components/Header.js":"4","/Users/adamzhu/Downloads/puzzl/src/Components/Loading.js":"5","/Users/adamzhu/Downloads/puzzl/src/Routes/index.js":"6","/Users/adamzhu/Downloads/puzzl/src/Routes/Home.js":"7","/Users/adamzhu/Downloads/puzzl/src/Routes/Cart.js":"8","/Users/adamzhu/Downloads/puzzl/src/Routes/Checkout.js":"9","/Users/adamzhu/Downloads/puzzl/src/Routes/OrderConfirmation.js":"10","/Users/adamzhu/Downloads/puzzl/src/Routes/OrderHistory.js":"11","/Users/adamzhu/Downloads/puzzl/src/Store/index.js":"12","/Users/adamzhu/Downloads/puzzl/src/Components/PageLoading.js":"13","/Users/adamzhu/Downloads/puzzl/src/Lib/utils.js":"14","/Users/adamzhu/Downloads/puzzl/src/Lib/apiClient.js":"15","/Users/adamzhu/Downloads/puzzl/src/Components/Errors.js":"16"},{"size":1063,"mtime":1607818546695,"results":"17","hashOfConfig":"18"},{"size":2876,"mtime":1607819552800,"results":"19","hashOfConfig":"18"},{"size":362,"mtime":1607792050212,"results":"20","hashOfConfig":"21"},{"size":1261,"mtime":1607815066897,"results":"22","hashOfConfig":"18"},{"size":784,"mtime":1607814947169,"results":"23","hashOfConfig":"18"},{"size":724,"mtime":1607795237109,"results":"24","hashOfConfig":"18"},{"size":1946,"mtime":1607816977439,"results":"25","hashOfConfig":"18"},{"size":1790,"mtime":1607817304136,"results":"26","hashOfConfig":"18"},{"size":3683,"mtime":1607817883325,"results":"27","hashOfConfig":"18"},{"size":139,"mtime":1607795293768,"results":"28","hashOfConfig":"18"},{"size":1145,"mtime":1607819571440,"results":"29","hashOfConfig":"18"},{"size":1472,"mtime":1607816901972,"results":"30","hashOfConfig":"18"},{"size":333,"mtime":1607814966813,"results":"31","hashOfConfig":"18"},{"size":1429,"mtime":1607814469931,"results":"32","hashOfConfig":"18"},{"size":848,"mtime":1607819202971,"results":"33","hashOfConfig":"18"},{"size":702,"mtime":1607816939619,"results":"34","hashOfConfig":"18"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},"11fz2sw",{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},"5ccx59",{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"55","usedDeprecatedRules":"37"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},"/Users/adamzhu/Downloads/puzzl/src/index.js",[],["70","71"],"/Users/adamzhu/Downloads/puzzl/src/App.js",[],"/Users/adamzhu/Downloads/puzzl/src/reportWebVitals.js",[],["72","73"],"/Users/adamzhu/Downloads/puzzl/src/Components/Header.js",[],"/Users/adamzhu/Downloads/puzzl/src/Components/Loading.js",[],"/Users/adamzhu/Downloads/puzzl/src/Routes/index.js",[],"/Users/adamzhu/Downloads/puzzl/src/Routes/Home.js",[],"/Users/adamzhu/Downloads/puzzl/src/Routes/Cart.js",[],"/Users/adamzhu/Downloads/puzzl/src/Routes/Checkout.js",["74"],"import React, { useContext, useEffect, useState } from 'react';\nimport { loadStripe } from '@stripe/stripe-js';\nimport { Elements } from '@stripe/react-stripe-js';\nimport { CardElement, useStripe, useElements } from '@stripe/react-stripe-js';\nimport { StateContext, DispatchContext } from 'App';\nimport apiClient from 'Lib/apiClient';\nimport { ERROR_OCCURRED } from 'Store';\n\nconst StripePromise = loadStripe(\n  'pk_test_51Hxe1hB0apBhbVSw1AsqxV4Bhry86QFvzCR0jzF4gDeQreQDe1jKTSTGFyZAmet7upFnm9dS3UmEL5KxRZ8yy74V00pvSuRZaE',\n);\n\nconst Checkout = () => {\n  return (\n    <Elements stripe={StripePromise}>\n      <div>\n        <CheckoutForm />\n      </div>\n    </Elements>\n  );\n};\n\nconst CheckoutForm = () => {\n  const [succeeded, setSucceeded] = useState(false);\n  const [error, setError] = useState(null);\n  const [processing, setProcessing] = useState('');\n  const [disabled, setDisabled] = useState(true);\n  const [clientSecret, setClientSecret] = useState('');\n  const stripe = useStripe();\n  const elements = useElements();\n  const state = useContext(StateContext);\n  const dispatch = useContext(DispatchContext);\n  const { cart, snacks } = state;\n  const items = cart.map((_id) => {\n    const snack = snacks.find((s) => s._id === _id);\n\n    return {\n      id: snack._id,\n      price_cents: snack.price_cents,\n    };\n  });\n\n  useEffect(() => {\n    // Create PaymentIntent as soon as the page loads\n    apiClient\n      .createPaymentIntent(items)\n      .then((data) => {\n        setClientSecret(data.clientSecret);\n      })\n      .catch((e) => dispatch({ type: ERROR_OCCURRED, payload: e.message }));\n  }, []);\n\n  const cardStyle = {\n    style: {\n      base: {\n        'color': '#32325d',\n        'fontFamily': 'Arial, sans-serif',\n        'fontSmoothing': 'antialiased',\n        'fontSize': '16px',\n        '::placeholder': {\n          color: '#32325d',\n        },\n      },\n      invalid: {\n        color: '#fa755a',\n        iconColor: '#fa755a',\n      },\n    },\n  };\n  const handleChange = async (event) => {\n    // Listen for changes in the CardElement\n    // and display any errors as the customer types their card details\n    setDisabled(event.empty);\n    setError(event.error ? event.error.message : '');\n  };\n  const handleSubmit = async (ev) => {\n    ev.preventDefault();\n    setProcessing(true);\n\n    const payload = await stripe.confirmCardPayment(clientSecret, {\n      payment_method: {\n        card: elements.getElement(CardElement),\n      },\n    });\n\n    console.log({ payload });\n\n    if (payload.error) {\n      setError(`Payment failed ${payload.error.message}`);\n      setProcessing(false);\n    } else {\n      setError(null);\n      setProcessing(false);\n      setSucceeded(true);\n    }\n  };\n\n  return (\n    <form id='payment-form' onSubmit={handleSubmit}>\n      <CardElement\n        id='card-element'\n        options={cardStyle}\n        onChange={handleChange}\n      />\n      <button disabled={processing || disabled || succeeded} id='submit'>\n        <span id='button-text'>\n          {processing ? <div className='spinner' id='spinner'></div> : 'Pay'}\n        </span>\n      </button>\n      {/* Show any error that happens when processing the payment */}\n      {error && (\n        <div className='card-error' role='alert'>\n          {error}\n        </div>\n      )}\n      {/* Show a success message upon completion */}\n      <p className={succeeded ? 'result-message' : 'result-message hidden'}>\n        Payment succeeded, see the result in your\n        <a href={`https://dashboard.stripe.com/test/payments`}>\n          {' '}\n          Stripe dashboard.\n        </a>{' '}\n        Refresh the page to pay again.\n      </p>\n    </form>\n  );\n};\n\nexport default Checkout;\n","/Users/adamzhu/Downloads/puzzl/src/Routes/OrderConfirmation.js",[],"/Users/adamzhu/Downloads/puzzl/src/Routes/OrderHistory.js",["75"],"/Users/adamzhu/Downloads/puzzl/src/Store/index.js",[],"/Users/adamzhu/Downloads/puzzl/src/Components/PageLoading.js",[],"/Users/adamzhu/Downloads/puzzl/src/Lib/utils.js",[],"/Users/adamzhu/Downloads/puzzl/src/Lib/apiClient.js",[],"/Users/adamzhu/Downloads/puzzl/src/Components/Errors.js",[],{"ruleId":"76","replacedBy":"77"},{"ruleId":"78","replacedBy":"79"},{"ruleId":"76","replacedBy":"80"},{"ruleId":"78","replacedBy":"81"},{"ruleId":"82","severity":1,"message":"83","line":51,"column":6,"nodeType":"84","endLine":51,"endColumn":8,"suggestions":"85"},{"ruleId":"86","severity":1,"message":"87","line":6,"column":10,"nodeType":"88","messageId":"89","endLine":6,"endColumn":23},"no-native-reassign",["90"],"no-negated-in-lhs",["91"],["90"],["91"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'dispatch' and 'items'. Either include them or remove the dependency array.","ArrayExpression",["92"],"no-unused-vars","'toPriceString' is defined but never used.","Identifier","unusedVar","no-global-assign","no-unsafe-negation",{"desc":"93","fix":"94"},"Update the dependencies array to be: [dispatch, items]",{"range":"95","text":"96"},[1605,1607],"[dispatch, items]"]